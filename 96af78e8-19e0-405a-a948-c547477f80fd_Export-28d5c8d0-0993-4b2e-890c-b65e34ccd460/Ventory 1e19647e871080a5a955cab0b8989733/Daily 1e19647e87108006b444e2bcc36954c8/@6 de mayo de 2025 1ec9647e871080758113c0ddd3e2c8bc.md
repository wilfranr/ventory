# @6 de mayo de 2025

### З M贸dulo: Gesti贸n de usuarios (Ventory)

---

###  Objetivo:

Habilitar la edici贸n de usuarios desde el panel de administraci贸n, permitiendo actualizar `nombre`, `correo`, `rol` y `estado`.

---

###  Backend (NestJS):

- Se cre贸 el **DTO `UpdateUserDto`** con validaciones usando `class-validator`.
- Se implement贸 el m茅todo `updateUser(id, data)` en `UserService`:
    - Conversi贸n segura de `id` a `number`.
    - Validaci贸n del rol (`role.name`) y conexi贸n con `roleId`.
    - Manejo de errores si el rol no existe.
- Se ajust贸 la ruta `PUT /users/:id` en `UserController`.

---

###  Frontend (Angular):

- Se actualiz贸 el formulario de edici贸n de usuarios (`users.component`):
    - Carga din谩mica del rol y estado del usuario seleccionado.
    - Se reemplaz贸 el dropdown de estado por un **`p-inputSwitch`**.
    - Se asigna `"activo"` como estado por defecto si no est谩 definido.
    - Se valid贸 que `user.role` sea un string al hacer la petici贸n.
- Se conect贸 correctamente con el backend usando `userService.updateUser(...)`.
- Se elimin贸 la l贸gica de creaci贸n de usuario desde este CRUD (ya se maneja en `register` y `token`).

---

### И Resultado:

- La edici贸n de usuarios funciona correctamente desde la interfaz.
- Los cambios se reflejan en la base de datos.
- El rol y estado se validan y actualizan correctamente.